<h2>Intro to REST</h2>
<h2>Suggestions for API design</h2>
<h2>Intro to spring-boot</h2>
<h2>Lets go</h2>
<p>We're going to build a small sample application using Spring Boot. The application is for a leisure centre that wants to be able to show everyone the classes it offers, let its staff edit those classes and let customers book a place on a class</p>
<p>In Eclipse, start a new spring starter project:</p>
<img src="./screenshots/newproject.png"/>
<p>Set up details of the project like this - we're using Java 1.8, and Maven to build
We're just going to select actuator and web for now, we can add more capabilities later on</p>
<img src="./screenshots/springstarter.png"/>
<p>We can just click on 'Finish' now, and we will get a zip file downloaded with our new project in. It should look something like this:</p>
<img src="./screenshots/timetable-step0.png"/>
<p>Believe it or not we can already run this up and it will do things...Launch it in Eclipse</p>
<img src="./screenshots/run-as-springboot.png"/>
<p>Now in a browser navigate to http://localhost:8080/health</p>
<p>Hopefully you'll see something like this:</p>
<img src="./screenshots/health-api.png"/>
<p>Spring boot actuator has set up a number of URL endpoints automatically. 'health' is one of them.  You can see the others when in the console within the IDE (I've shortened the output lines a bit!):</p>
<code>
... o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/beans],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" ...<br/>
... o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/env/{name:.*}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" ...<br/>
... o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/env],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" ...<br/>
... o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/health],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" ...<br/>
... o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/metrics/{name:.*}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" ...<br/>
... o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/metrics],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" ...<br/>
... o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/configprops],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" ...<br/>
... o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/dump],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" ...<br/>
... o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/info],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" ...<br/>
... o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/autoconfig],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" ...<br/>
... o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/mappings],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" ...<br/>
... o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/shutdown],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" ...<br/>
... o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/trace],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" ...<br/>
</code>
<p>Try out some of the others</p>
<p>OK. So far so good, let's add some of our own code now.</p>
<p>For the REST service, we need two classes, the controller class that tells Spring what function will handle which URL/method and a data model class.</p>
<p>I'm going to put the data model classes into their own package just to help keep things tidy, so I added timetable.model. Within that package, I created a simple data model class 'Event':</p>
<code>
<div style='background:#FFFFFF; font-family: Courier New, Courier; font-size: 10pt; COLOR: #000000; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px;'><strong><font color='#7f0055'>package</font></strong>&nbsp;timetable.model;
<br/>
<br/><strong><font color='#7f0055'>public</font></strong>&nbsp;<strong><font color='#7f0055'>class</font></strong>&nbsp;Event&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>private</font></strong>&nbsp;Long&nbsp;id;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>private</font></strong>&nbsp;String&nbsp;title;
<br/>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;Event(Long&nbsp;id,&nbsp;String&nbsp;title)&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>this</font></strong>.id&nbsp;=&nbsp;id;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>this</font></strong>.title&nbsp;=&nbsp;title;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;}
<br/>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;Long&nbsp;getId()&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>return</font></strong>&nbsp;id;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;}
<br/>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;String&nbsp;getTitle()&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>return</font></strong>&nbsp;title;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;}
<br/>
<br/>}<div style='text-align:right;BORDER-TOP: #ccc 1px dashed'><a href="http://www.togotutor.com/code-to-html/java-to-html.php" target="_blank">Code Formatted by ToGoTutor</a></div></div>
</code>
<p>We don't need any annotations on this class, or anything else to tell Spring how to handle it</p>
<p>Now we need a controller class</p>
<p>First of all we'll just add an API to return all events, this will be a GET method call to /timetable and will return a list of <code>Event</code>s</p>
<p>Here's what it looks like (this is in the timetable package)</p>
<div style='background:#FFFFFF; font-family: Courier New, Courier; font-size: 10pt; COLOR: #000000; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px;'><strong><font color='#7f0055'>package</font></strong>&nbsp;timetable;
<br/>
<br/><strong><font color='#7f0055'>import</font></strong>&nbsp;java.util.ArrayList;
<br/><strong><font color='#7f0055'>import</font></strong>&nbsp;java.util.List;
<br/>
<br/><strong><font color='#7f0055'>import</font></strong>&nbsp;org.springframework.stereotype.Controller;
<br/><strong><font color='#7f0055'>import</font></strong>&nbsp;org.springframework.web.bind.annotation.RequestMapping;
<br/><strong><font color='#7f0055'>import</font></strong>&nbsp;org.springframework.web.bind.annotation.RequestMethod;
<br/><strong><font color='#7f0055'>import</font></strong>&nbsp;org.springframework.web.bind.annotation.ResponseBody;
<br/>
<br/><strong><font color='#7f0055'>import</font></strong>&nbsp;timetable.model.Event;
<br/>
<br/><font color='#646464'>@Controller</font>
<br/><font color='#646464'>@RequestMapping</font>(<font color='#2a00ff'>"/timetable"</font>)
<br/><strong><font color='#7f0055'>public</font></strong>&nbsp;<strong><font color='#7f0055'>class</font></strong>&nbsp;TimetableController&nbsp;{
<br/>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<font color='#646464'>@RequestMapping</font>(method=RequestMethod.GET)
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;<font color='#646464'>@ResponseBody</font>&nbsp;List&lt;Event&gt;&nbsp;getEvents(){
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List&lt;Event&gt;&nbsp;events&nbsp;=&nbsp;<strong><font color='#7f0055'>new</font></strong>&nbsp;ArrayList&lt;&gt;();
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;events.add(<strong><font color='#7f0055'>new</font></strong>&nbsp;Event(1L,<font color='#2a00ff'>"Yoga"</font>));
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;events.add(<strong><font color='#7f0055'>new</font></strong>&nbsp;Event(2L,<font color='#2a00ff'>"Boxercise"</font>));
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>return</font></strong>&nbsp;events;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;}
<br/>}<div style='text-align:right;BORDER-TOP: #ccc 1px dashed'><a href="http://www.togotutor.com/code-to-html/java-to-html.php" target="_blank">Code Formatted by ToGoTutor</a></div></div>
<p>The @Controller annotation tells Spring this is a Controller- it's mapping some endpoints.</p>
<p>The @RequestMapping above the class definition gives the root mapping- so all calls to (in our case) http://localhost:8080/timetable will look in here to be processed</p>
<p>The @RequestMapping above the getEvents() method tells Spring this is the method to use for a GET call, and the @ResponseBody annotation before the return type is very important- this tells Spring we want it to send back the body data as it is, we don't have a view defined (the same RequestMapping annotations get used for Spring MVC where Spring would expect to find a view class mapped).  Miss it off and you'll get an exception when you try to make your API request</p>
<p>For now, the body of the method just creates a hard-wired List and returns it</p>
<p>Save it all and run it back up (Eclipse should autobuild it for you on saving)</p>
<p>In the console you should be able to see the new endpoint '/timetable' mapped:</p>
<code>Mapped "{[/timetable],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.util.List<timetable.model.Event> timetable.TimetableController.getEvents()</code>
<p>Back in the browser http://localhost:8080/timetable should give you a string of JSON something like this:</p>
<code>
[{"id":1,"title":"Yoga"},{"id":2,"title":"Boxercise"}]
</code> 
<p>Next we'll implement some methods for the Event resource, these will use the URL http://localhost:8080/timetable/event</p>
<p>First a little bit of refactoring- we'll move that List out of the getEvents method, and change it to be a map (so we can index individual Event objects). We'll initialise it in the class constructor.  The code now looks like this:</p>
<div style='background:#FFFFFF; font-family: Courier New, Courier; font-size: 10pt; COLOR: #000000; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px;'>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>private</font></strong>&nbsp;Map&lt;Long,Event&gt;&nbsp;events;
<br/>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;TimetableController(){
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;events&nbsp;=&nbsp;<strong><font color='#7f0055'>new</font></strong>&nbsp;HashMap&lt;&gt;();
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;events.put(1L,&nbsp;<strong><font color='#7f0055'>new</font></strong>&nbsp;Event(1L,<font color='#2a00ff'>"Yoga"</font>));
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;events.put(2L,&nbsp;<strong><font color='#7f0055'>new</font></strong>&nbsp;Event(2L,<font color='#2a00ff'>"Boxercise"</font>));
<br/>&nbsp;&nbsp;&nbsp;&nbsp;}
<br/>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<font color='#646464'>@RequestMapping</font>(method=RequestMethod.GET)
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;<font color='#646464'>@ResponseBody</font>&nbsp;Collection<Event>&nbsp;getEvents(){
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>return</font></strong>&nbsp;events.values();
<br/>&nbsp;&nbsp;&nbsp;&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;}<div style='text-align:right;BORDER-TOP: #ccc 1px dashed'><a href="http://www.togotutor.com/code-to-html/java-to-html.php" target="_blank">Code Formatted by ToGoTutor</a></div></div>
<p>Now we can add a method to implement GET for an individual Event. The id of the event is used as part of the URL (this is the path variable).</p>	
<div style='background:#FFFFFF; font-family: Courier New, Courier; font-size: 10pt; COLOR: #000000; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px;'>&nbsp;&nbsp;&nbsp;&nbsp;<font color='#646464'>@RequestMapping</font>(value=<font color='#2a00ff'>"/event/{id}"</font>,&nbsp;method=RequestMethod.GET)
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;<font color='#646464'>@ResponseBody</font>&nbsp;Event&nbsp;getEventById(<font color='#646464'>@PathVariable</font>&nbsp;Long&nbsp;id){
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Event&nbsp;result&nbsp;=&nbsp;events.get(id);
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>if</font></strong>&nbsp;(result&nbsp;==&nbsp;<strong><font color='#7f0055'>null</font></strong>){
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>throw</font></strong>&nbsp;<strong><font color='#7f0055'>new</font></strong>&nbsp;EventNotFoundException(id);
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>return</font></strong>&nbsp;result;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;}<div style='text-align:right;BORDER-TOP: #ccc 1px dashed'><a href="http://www.togotutor.com/code-to-html/java-to-html.php" target="_blank">Code Formatted by ToGoTutor</a></div></div>
	
<p>If it can't find the event in the URL, it will throw an exception, this is annotated with HttpStatus.NOT_FOUND (404), which Spring will return for us if this exception is thrown</p>
<div style='background:#FFFFFF; font-family: Courier New, Courier; font-size: 10pt; COLOR: #000000; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px;'><font color='#646464'>@ResponseStatus</font>(HttpStatus.NOT_FOUND)
<br/><strong><font color='#7f0055'>class</font></strong>&nbsp;EventNotFoundException&nbsp;<strong><font color='#7f0055'>extends</font></strong>&nbsp;RuntimeException&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>private</font></strong>&nbsp;<strong><font color='#7f0055'>static</font></strong>&nbsp;<strong><font color='#7f0055'>final</font></strong>&nbsp;<strong><font color='#7f0055'>long</font></strong>&nbsp;serialVersionUID&nbsp;=&nbsp;-9174199038443186877L;
<br/>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;EventNotFoundException(Long&nbsp;eventId){
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>super</font></strong>(<font color='#2a00ff'>"could&nbsp;not&nbsp;find&nbsp;event&nbsp;'"</font>&nbsp;+&nbsp;eventId&nbsp;+&nbsp;<font color='#2a00ff'>"'."</font>);
<br/>&nbsp;&nbsp;&nbsp;&nbsp;}
<br/>}<div style='text-align:right;BORDER-TOP: #ccc 1px dashed'><a href="http://www.togotutor.com/code-to-html/java-to-html.php" target="_blank">Code Formatted by ToGoTutor</a></div></div>
<p>http://localhost:8080/timetable/event/1 should give us back the yoga class, http://localhost:8080/timetable/event/2 the boxercise class</p>
<p>Next, the POST method can add a new class to the container.  We generate the id automatically, and return the path to the generated event in the http header for the response. This path can be used as the URL for a subsequent request e.g. GET, DELETE</p>
<div style='background:#FFFFFF; font-family: Courier New, Courier; font-size: 10pt; COLOR: #000000; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px;'>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>private</font></strong>&nbsp;<strong><font color='#7f0055'>final</font></strong>&nbsp;AtomicLong&nbsp;counter&nbsp;=&nbsp;<strong><font color='#7f0055'>new</font></strong>&nbsp;AtomicLong();
<br/>&nbsp;&nbsp;&nbsp;&nbsp;...
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<font color='#646464'>@RequestMapping</font>(value=<font color='#2a00ff'>"/event"</font>,&nbsp;method=RequestMethod.POST)
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;ResponseEntity&lt;?&gt;&nbsp;addEvent(<font color='#646464'>@RequestBody</font>&nbsp;Event&nbsp;evt){
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Long&nbsp;id&nbsp;=&nbsp;counter.incrementAndGet();
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;events.put(id,&nbsp;evt);
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HttpHeaders&nbsp;httpHeaders&nbsp;=&nbsp;<strong><font color='#7f0055'>new</font></strong>&nbsp;HttpHeaders();
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;httpHeaders.setLocation(ServletUriComponentsBuilder
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.fromCurrentRequest().path(<font color='#2a00ff'>"/{id}"</font>)
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.buildAndExpand(id).toUri());
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>return</font></strong>&nbsp;<strong><font color='#7f0055'>new</font></strong>&nbsp;ResponseEntity&lt;&gt;(evt,httpHeaders,&nbsp;HttpStatus.CREATED);
<br/>&nbsp;&nbsp;&nbsp;&nbsp;}<div style='text-align:right;BORDER-TOP: #ccc 1px dashed'><a href="http://www.togotutor.com/code-to-html/java-to-html.php" target="_blank">Code Formatted by ToGoTutor</a></div></div>
<p>Because the Event is now included as a RequestBody, we do need to add a default constructor to the event class</p>
<div style='background:#FFFFFF; font-family: Courier New, Courier; font-size: 10pt; COLOR: #000000; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px;'><strong><font color='#7f0055'>public</font></strong>&nbsp;<strong><font color='#7f0055'>class</font></strong>&nbsp;Event&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>private</font></strong>&nbsp;Long&nbsp;id;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>private</font></strong>&nbsp;String&nbsp;title;
<br/>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;Event()&nbsp;{}
<br/>&nbsp;&nbsp;&nbsp;&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;Event(Long&nbsp;id,&nbsp;String&nbsp;title)&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>this</font></strong>.id&nbsp;=&nbsp;id;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>this</font></strong>.title&nbsp;=&nbsp;title;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;}
<br/>&nbsp;&nbsp;&nbsp;&nbsp;...<div style='text-align:right;BORDER-TOP: #ccc 1px dashed'><a href="http://www.togotutor.com/code-to-html/java-to-html.php" target="_blank">Code Formatted by ToGoTutor</a></div></div>
<p>Finally, the DELETE method will remove an event</p>
<div style='background:#FFFFFF; font-family: Courier New, Courier; font-size: 10pt; COLOR: #000000; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px;'>&nbsp;&nbsp;&nbsp;&nbsp;<font color='#646464'>@RequestMapping</font>(value=<font color='#2a00ff'>"/event/{id}"</font>,&nbsp;method=RequestMethod.DELETE)
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;<strong><font color='#7f0055'>void</font></strong>&nbsp;deleteEvent(<font color='#646464'>@PathVariable</font>&nbsp;Long&nbsp;id){
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;events.remove(id);
<br/>&nbsp;&nbsp;&nbsp;&nbsp;}<div style='text-align:right;BORDER-TOP: #ccc 1px dashed'><a href="http://www.togotutor.com/code-to-html/java-to-html.php" target="_blank">Code Formatted by ToGoTutor</a></div></div>
<p>Now we have all these interfaces implemented, we can test them manually, using Chrome REST Console, or cURL, but it would be good to get some automated tests.  Spring/JUnit test framework can be used for this</p>
<p>When we created the project we automatically got a src/test/java folder, with a TimetableApplicationTests in it.</p>
<p>In the same folder, we can create a new class TimetableControllerTest to test our rest controller</p>
<div style='background:#FFFFFF; font-family: Courier New, Courier; font-size: 10pt; COLOR: #000000; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px;'><strong><font color='#7f0055'>package</font></strong>&nbsp;timetable;
<br/>
<br/><strong><font color='#7f0055'>import</font></strong>&nbsp;<strong><font color='#7f0055'>static</font></strong>&nbsp;org.hamcrest.Matchers.hasSize;
<br/><strong><font color='#7f0055'>import</font></strong>&nbsp;<strong><font color='#7f0055'>static</font></strong>&nbsp;org.hamcrest.Matchers.is;
<br/><strong><font color='#7f0055'>import</font></strong>&nbsp;<strong><font color='#7f0055'>static</font></strong>&nbsp;org.springframework.test.web.servlet.request.MockMvcRequestBuilders.delete;
<br/><strong><font color='#7f0055'>import</font></strong>&nbsp;<strong><font color='#7f0055'>static</font></strong>&nbsp;org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;
<br/><strong><font color='#7f0055'>import</font></strong>&nbsp;<strong><font color='#7f0055'>static</font></strong>&nbsp;org.springframework.test.web.servlet.request.MockMvcRequestBuilders.post;
<br/><strong><font color='#7f0055'>import</font></strong>&nbsp;<strong><font color='#7f0055'>static</font></strong>&nbsp;org.springframework.test.web.servlet.result.MockMvcResultMatchers.content;
<br/><strong><font color='#7f0055'>import</font></strong>&nbsp;<strong><font color='#7f0055'>static</font></strong>&nbsp;org.springframework.test.web.servlet.result.MockMvcResultMatchers.jsonPath;
<br/><strong><font color='#7f0055'>import</font></strong>&nbsp;<strong><font color='#7f0055'>static</font></strong>&nbsp;org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;
<br/><strong><font color='#7f0055'>import</font></strong>&nbsp;<strong><font color='#7f0055'>static</font></strong>&nbsp;org.springframework.test.web.servlet.setup.MockMvcBuilders.webAppContextSetup;
<br/>
<br/><strong><font color='#7f0055'>import</font></strong>&nbsp;java.io.IOException;
<br/><strong><font color='#7f0055'>import</font></strong>&nbsp;java.nio.charset.Charset;
<br/>
<br/><strong><font color='#7f0055'>import</font></strong>&nbsp;org.junit.Before;
<br/><strong><font color='#7f0055'>import</font></strong>&nbsp;org.junit.Test;
<br/><strong><font color='#7f0055'>import</font></strong>&nbsp;org.junit.runner.RunWith;
<br/><strong><font color='#7f0055'>import</font></strong>&nbsp;org.springframework.beans.factory.annotation.Autowired;
<br/><strong><font color='#7f0055'>import</font></strong>&nbsp;org.springframework.boot.test.SpringApplicationConfiguration;
<br/><strong><font color='#7f0055'>import</font></strong>&nbsp;org.springframework.http.MediaType;
<br/><strong><font color='#7f0055'>import</font></strong>&nbsp;org.springframework.test.context.junit4.SpringJUnit4ClassRunner;
<br/><strong><font color='#7f0055'>import</font></strong>&nbsp;org.springframework.test.context.web.WebAppConfiguration;
<br/><strong><font color='#7f0055'>import</font></strong>&nbsp;org.springframework.test.web.servlet.MockMvc;
<br/><strong><font color='#7f0055'>import</font></strong>&nbsp;org.springframework.test.web.servlet.MvcResult;
<br/><strong><font color='#7f0055'>import</font></strong>&nbsp;org.springframework.web.context.WebApplicationContext;
<br/>
<br/><strong><font color='#7f0055'>import</font></strong>&nbsp;timetable.model.Event;
<br/>
<br/><strong><font color='#7f0055'>import</font></strong>&nbsp;com.fasterxml.jackson.annotation.JsonInclude;
<br/><strong><font color='#7f0055'>import</font></strong>&nbsp;com.fasterxml.jackson.databind.ObjectMapper;
<br/>
<br/>
<br/><font color='#646464'>@RunWith</font>(SpringJUnit4ClassRunner.<strong><font color='#7f0055'>class</font></strong>)
<br/><font color='#646464'>@SpringApplicationConfiguration</font>(classes&nbsp;=&nbsp;TimetableApplication.<strong><font color='#7f0055'>class</font></strong>)
<br/><font color='#646464'>@WebAppConfiguration</font>
<br/><strong><font color='#7f0055'>public</font></strong>&nbsp;<strong><font color='#7f0055'>class</font></strong>&nbsp;TimetableControllerTest&nbsp;{
<br/>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>private</font></strong>&nbsp;MediaType&nbsp;contentType&nbsp;=&nbsp;<strong><font color='#7f0055'>new</font></strong>&nbsp;MediaType(MediaType.APPLICATION_JSON.getType(),
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MediaType.APPLICATION_JSON.getSubtype(),
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Charset.forName(<font color='#2a00ff'>"utf8"</font>));
<br/>&nbsp;&nbsp;&nbsp;&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>private</font></strong>&nbsp;MockMvc&nbsp;mockMvc;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<font color='#646464'>@Autowired</font>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>private</font></strong>&nbsp;WebApplicationContext&nbsp;webApplicationContext;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<font color='#646464'>@Before</font>&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;<strong><font color='#7f0055'>void</font></strong>&nbsp;setup()&nbsp;<strong><font color='#7f0055'>throws</font></strong>&nbsp;Exception&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>this</font></strong>.mockMvc&nbsp;=&nbsp;webAppContextSetup(webApplicationContext).build();
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;}
<br/>&nbsp;&nbsp;&nbsp;&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<font color='#646464'>@Test</font>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;<strong><font color='#7f0055'>void</font></strong>&nbsp;testEventNotFound()&nbsp;<strong><font color='#7f0055'>throws</font></strong>&nbsp;Exception&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mockMvc.perform(get(<font color='#2a00ff'>"/timetable/event/5"</font>))
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.andExpect(status().isNotFound());
<br/>&nbsp;&nbsp;&nbsp;&nbsp;}
<br/>&nbsp;&nbsp;&nbsp;&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<font color='#646464'>@Test</font>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;<strong><font color='#7f0055'>void</font></strong>&nbsp;readSingleEvent()&nbsp;<strong><font color='#7f0055'>throws</font></strong>&nbsp;Exception&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mockMvc.perform(get(<font color='#2a00ff'>"/timetable/event/1"</font>))
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.andExpect(status().isOk())
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.andExpect(content().contentType(contentType))
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.andExpect(jsonPath(<font color='#2a00ff'>"$.id"</font>,&nbsp;is(1)))
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.andExpect(jsonPath(<font color='#2a00ff'>"$.title"</font>,&nbsp;is(<font color='#2a00ff'>"Yoga"</font>)));
<br/>&nbsp;&nbsp;&nbsp;&nbsp;}
<br/>&nbsp;&nbsp;&nbsp;&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<font color='#646464'>@Test</font>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;<strong><font color='#7f0055'>void</font></strong>&nbsp;readEvents()&nbsp;<strong><font color='#7f0055'>throws</font></strong>&nbsp;Exception&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mockMvc.perform(get(<font color='#2a00ff'>"/timetable"</font>))
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.andExpect(status().isOk())
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.andExpect(content().contentType(contentType))
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.andExpect(jsonPath(<font color='#2a00ff'>"$"</font>,&nbsp;hasSize(2)))
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.andExpect(jsonPath(<font color='#2a00ff'>"$[0].id"</font>,&nbsp;is(1)))
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.andExpect(jsonPath(<font color='#2a00ff'>"$[0].title"</font>,&nbsp;is(<font color='#2a00ff'>"Yoga"</font>)))
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.andExpect(jsonPath(<font color='#2a00ff'>"$[1].id"</font>,&nbsp;is(2)))
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.andExpect(jsonPath(<font color='#2a00ff'>"$[1].title"</font>,&nbsp;is(<font color='#2a00ff'>"Boxercise"</font>)));
<br/>&nbsp;&nbsp;&nbsp;&nbsp;}
<br/>&nbsp;&nbsp;&nbsp;&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<font color='#646464'>@Test</font>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;<strong><font color='#7f0055'>void</font></strong>&nbsp;createEvent()&nbsp;<strong><font color='#7f0055'>throws</font></strong>&nbsp;Exception&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;eventJson&nbsp;=&nbsp;json(&nbsp;<strong><font color='#7f0055'>new</font></strong>&nbsp;Event(
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4L,&nbsp;<font color='#2a00ff'>"lane&nbsp;swimming"</font>));
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MvcResult&nbsp;result&nbsp;=&nbsp;<strong><font color='#7f0055'>this</font></strong>.mockMvc.perform(post(<font color='#2a00ff'>"/timetable/event"</font>)
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.contentType(contentType)
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.content(eventJson))
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.andExpect(status().isCreated())
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.andExpect(content().contentType(contentType))
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.andExpect(jsonPath(<font color='#2a00ff'>"$.id"</font>,&nbsp;is(4)))
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.andExpect(jsonPath(<font color='#2a00ff'>"$.title"</font>,&nbsp;is(<font color='#2a00ff'>"lane&nbsp;swimming"</font>)))
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.andReturn();
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;createdPath&nbsp;=&nbsp;result.getResponse().getHeader(<font color='#2a00ff'>"Location"</font>);
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>this</font></strong>.mockMvc.perform(get(createdPath))
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.andExpect(status().isOk())
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.andExpect(jsonPath(<font color='#2a00ff'>"$.id"</font>,&nbsp;is(4)))
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.andExpect(jsonPath(<font color='#2a00ff'>"$.title"</font>,&nbsp;is(<font color='#2a00ff'>"lane&nbsp;swimming"</font>)));
<br/>&nbsp;&nbsp;&nbsp;&nbsp;}
<br/>&nbsp;&nbsp;&nbsp;&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<font color='#646464'>@Test</font>
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>public</font></strong>&nbsp;<strong><font color='#7f0055'>void</font></strong>&nbsp;testDeleteEvent()&nbsp;<strong><font color='#7f0055'>throws</font></strong>&nbsp;Exception&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;eventJson&nbsp;=&nbsp;json(&nbsp;<strong><font color='#7f0055'>new</font></strong>&nbsp;Event(
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5L,&nbsp;<font color='#2a00ff'>"Pilates"</font>));
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MvcResult&nbsp;result&nbsp;=&nbsp;<strong><font color='#7f0055'>this</font></strong>.mockMvc.perform(post(<font color='#2a00ff'>"/timetable/event"</font>)
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.contentType(contentType)
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.content(eventJson))
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.andExpect(status().isCreated())
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.andExpect(content().contentType(contentType))
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.andExpect(jsonPath(<font color='#2a00ff'>"$.id"</font>,&nbsp;is(5)))
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.andExpect(jsonPath(<font color='#2a00ff'>"$.title"</font>,&nbsp;is(<font color='#2a00ff'>"Pilates"</font>)))
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.andReturn();
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;createdLocation&nbsp;=&nbsp;result.getResponse().getHeader(<font color='#2a00ff'>"Location"</font>);
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>this</font></strong>.mockMvc.perform(get(createdLocation))
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.andExpect(status().isOk())
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.andExpect(jsonPath(<font color='#2a00ff'>"$.title"</font>,&nbsp;is(<font color='#2a00ff'>"Pilates"</font>)));
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>this</font></strong>.mockMvc.perform(delete(createdLocation))
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.andExpect(status().isOk());
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>this</font></strong>.mockMvc.perform(get(createdLocation))
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.andExpect(status().isNotFound());
<br/>&nbsp;&nbsp;&nbsp;&nbsp;}
<br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>protected</font></strong>&nbsp;String&nbsp;json(Object&nbsp;o)&nbsp;<strong><font color='#7f0055'>throws</font></strong>&nbsp;IOException&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ObjectMapper&nbsp;mapper&nbsp;=&nbsp;<strong><font color='#7f0055'>new</font></strong>&nbsp;ObjectMapper();
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong><font color='#7f0055'>return</font></strong>&nbsp;mapper.writeValueAsString(o);
<br/>&nbsp;&nbsp;&nbsp;&nbsp;}
<br/>
<br/>}
<br/>
<br/><div style='text-align:right;BORDER-TOP: #ccc 1px dashed'><a href="http://www.togotutor.com/code-to-html/java-to-html.php" target="_blank">Code Formatted by ToGoTutor</a></div></div>
<h2>Resources</h2>

